# Motor Procedural Educacional - Configuração de Projeto
# Protocolo Entropia Zero - EZ Studios Ecosystem
# Versão: 1.0.0

project:
  name: motor-procedural-edu
  displayName: Motor Procedural Educacional
  version: 1.0.0
  description: Sistema modular de geração procedural de conteúdo para jogos educacionais
  author: Manus AI
  license: MIT

ecosystem:
  name: EZ Studios
  roles:
    aprendiz:
      description: Aluno que usa o motor para gerar conteúdo educacional
      permissions:
        - generate
        - view-logs
        - export
      api: src/edu/api/educationalApi.ts
      examples:
        - examples/example-dungeon.ts
    
    engenheiro:
      description: Desenvolvedor que otimiza e valida o motor
      permissions:
        - generate
        - view-logs
        - export
        - modify-config
        - run-tests
      api: src/core/**
      tools:
        - pnpm check
        - pnpm test
    
    fundador:
      description: Gestor que monetiza e escala o motor
      permissions:
        - generate
        - view-logs
        - export
        - analytics
        - marketplace
      api: src/edu/api/educationalApi.ts
      integrations:
        - marketplace-ugc
        - roblox-monetization

architecture:
  pattern: modular-layered
  
  layers:
    api:
      path: src/edu/api
      description: API educacional de alto nível
      exports:
        - generateDungeonForStudent
        - generateArenaForStudent
        - logIntentAndBuild
        - obterLogsDoAluno
        - obterEstatisticas
    
    compiler:
      path: src/compiler
      description: Compilador de intenções
      exports:
        - compilarIntencao
        - mapearIntencaoParaRegras
    
    core:
      path: src/core
      description: Núcleo procedural agnóstico de engine
      modules:
        wfc:
          description: Wave Function Collapse 2D
          algorithm: entropy-based-collapse
          exports:
            - initializeGrid
            - stepCollapse
            - finalizeGrid
        
        bsp:
          description: Binary Space Partitioning
          algorithm: recursive-space-division
          exports:
            - generateBspTree
            - convertToSetores
        
        models:
          description: Tipos e serialização
          exports:
            - Intencao
            - MapaGerado
            - serializeMapa
            - deserializeMapa
    
    adapters:
      path: src/adapters
      description: Adaptadores específicos de engine
      supported:
        roblox:
          language: luau
          files:
            - examples/RobloxMapaModule.lua
            - examples/RobloxServerScript.lua
          status: stable
        
        unity:
          language: csharp
          files: []
          status: planned
        
        godot:
          language: gdscript
          files: []
          status: planned
    
    infra:
      path: src/infra
      description: Infraestrutura (logging, observabilidade)
      modules:
        logging:
          description: Sistema de logging padronizado
          format: json
          exports:
            - logBuild
            - obterLogs

integrations:
  datastore:
    type: persistence
    description: Persistência de mapas gerados e histórico
    schema: MapaGerado
    operations:
      - create
      - read
      - update
      - delete
  
  marketplace-ugc:
    type: distribution
    description: Distribuição de conteúdo gerado
    format: json
    categories:
      - dungeon
      - arena
      - custom
  
  roblox-monetization:
    type: monetization
    description: Integração com sistema de monetização Roblox
    features:
      - premium-features
      - cosmetics
      - analytics
  
  compilador:
    type: processing
    description: Compilação de intenções em código
    input: Intencao
    output: MapaGerado + CodigoGerado

features:
  core:
    wave-function-collapse:
      status: stable
      version: 1.0.0
      description: Geração procedural com entropia de Shannon
      performance: 250-600ms para 4096 tiles
    
    binary-space-partitioning:
      status: stable
      version: 1.0.0
      description: Divisão recursiva de espaço
      performance: <50ms para 64x64
    
    intent-compilation:
      status: stable
      version: 1.0.0
      description: Compilação de intenções em regras
      categories:
        - Mapa
        - Progressao
        - Economia
        - Social
    
    reproducibility:
      status: stable
      version: 1.0.0
      description: Geração determinística com seeds
      seedFormat: string (6 caracteres)
  
  adapters:
    roblox-luau:
      status: stable
      version: 1.0.0
      description: Geração de código Luau para Roblox
      outputSize: ~200KB para 4096 tiles
  
  educational:
    student-tracking:
      status: stable
      version: 1.0.0
      description: Rastreamento de histórico de alunos
      dataFormat: json
    
    statistics:
      status: stable
      version: 1.0.0
      description: Estatísticas de uso e geração
      metrics:
        - totalBuilds
        - sucessos
        - tempoMedio
        - tilesGerados

roadmap:
  v1.0:
    status: released
    date: 2026-01-10
    features:
      - Wave Function Collapse 2D
      - Binary Space Partitioning
      - Compilador de Intenção
      - Adaptador Roblox/Luau
      - API Educacional
      - Sistema de Logging
  
  v1.1:
    status: planned
    date: 2026-Q1
    features:
      - Otimização de performance
      - Mais tipos de tiles padrão
      - Dashboard de alunos
      - Interface web de geração
  
  v2.0:
    status: planned
    date: 2026-Q2
    features:
      - Suporte a Unity/C#
      - Suporte a Godot/GDScript
      - Geração em tempo real
      - Editor visual com node graph
  
  v2.5:
    status: planned
    date: 2026-Q3
    features:
      - Search-based PCG
      - Análise de dificuldade procedural
      - Otimização automática
  
  v3.0:
    status: planned
    date: 2026-Q4
    features:
      - Integração com IA generativa
      - Geração de narrativa procedural
      - Análise de balanceamento

development:
  language: TypeScript
  runtime: Node.js 22+
  packageManager: pnpm
  
  scripts:
    dev: vite --host
    build: vite build
    check: tsc --noEmit
    test: vitest
    format: prettier --write .
  
  testing:
    framework: vitest
    coverage:
      target: 80
      current: 85
    testFiles:
      - tests/core.test.ts
    testCount: 18
  
  quality:
    typescript: strict
    linting: eslint
    formatting: prettier

metrics:
  codebase:
    totalLines: 2500
    modules: 7
    files: 12
  
  performance:
    generationTime: 250-600ms
    serializationTime: <10ms
    deserializationTime: <10ms
  
  quality:
    typeScriptErrors: 0
    testsPassing: 18
    testCoverage: 85

documentation:
  readme: README.md
  architecture: ARCHITECTURE.md
  robloxIntegration: ROBLOX_INTEGRATION.md
  contributing: CONTRIBUTING.md
  projectSummary: PROJECT_SUMMARY.md

extensionPoints:
  newAlgorithm:
    path: src/core/{algorithm}/
    interface: AlgorithmInterface
    example: src/core/wfc/wfc.ts
  
  newAdapter:
    path: src/adapters/{engine}/
    interface: AdapterInterface
    example: src/adapters/roblox/
  
  newIntentionCategory:
    path: src/edu/api/
    interface: IntencaoCategory
    example: Intencao.categoria enum
  
  newTileType:
    path: src/core/models/
    interface: TileDefinition
    example: TILE_TYPES map

evolutionGuidance:
  nextSteps:
    - priority: high
      title: Interface Web de Geração
      description: Criar página React para customizar parâmetros visualmente
      effort: medium
      impact: high
      targetVersion: v1.1
      estimatedDays: 5
    
    - priority: high
      title: Dashboard de Alunos
      description: Página com histórico, estatísticas e re-geração
      effort: medium
      impact: high
      targetVersion: v1.1
      estimatedDays: 5
    
    - priority: medium
      title: Adaptador Unity/C#
      description: Expandir suporte além de Roblox
      effort: high
      impact: high
      targetVersion: v2.0
      estimatedDays: 10
    
    - priority: medium
      title: Otimização de Performance
      description: Parallelizar WFC e BSP
      effort: high
      impact: medium
      targetVersion: v1.1
      estimatedDays: 8
    
    - priority: low
      title: Editor Visual
      description: Node graph para composição de algoritmos
      effort: very-high
      impact: high
      targetVersion: v2.0
      estimatedDays: 20
  
  blockers: []
  
  dependencies:
    roblox: stable
    typescript: "5.6+"
    node: "22+"

ideSupport:
  vscode:
    extensions:
      - TypeScript
      - ESLint
      - Prettier
    settings: .vscode/settings.json
  
  jetbrains:
    support: native
    inspections: enabled
  
  cursor:
    support: native
    aiContext: project.json
